% !TeX root = ../main.tex
% Add the above to each chapter to make compiling the PDF easier in some editors.

\chapter{Related Work}\label{chapter:literature}

The foundation of this project is the research going around Kubernetes and IoT. Kubernetes has a very active community around it, both in research and development, that Google Scholar returns 9.140 results when searching the technology. While kubernetes has many resources , a Google scholar search on Unikernels bring 1150 results. Most of those results focus on benchmarking unikernels with other virtualisation methods.

Using Kubernetes in an IoT environment is still being discovered. There are open source projects bringing Kubernetes experience to IoT by bridging the gap between edge devices and the cloud. The Kubeedge project \cite{kubeedge} from Huawei, runs Dockerised applications on edge devices and manage them through Kubernetes. Their future work mentions an intelligent scheduling based on data locality, network status and computing power, which this thesis aims to solve to an extend using Kubernetes labels.

Another open source solution is K3S \cite{k3s}, a lightweight kubernetes distribution designed for edge computing. K3S strips Kubernetes codebase with non-default options removed , while harcoding some options into the system. A shortcoming for K3S is that they require a complete setup and can not integrate with a already running non-stripped Kubernetes cluster.

A project similar to the work presented in this thesis is FLEDGE \cite{fledge}. FLEDGE uses virtual kubelet technology to communicate to edge devices through the Kubernetes cluster but instead of deploying virtual-kubelet to edge devices, they deploy it to the cloud per device and use it as a facade between kubernetes environment and IoT commands. They state in their future work that, they will migrate to install virtual-kubelet agents on the edge devices, because creating a pod per device decreases the scalability of their solution.

The project \cite{fogernetes} from Technical University Munich, proposes a labeling schema to use with Kubernetes while managing applications in fog computing. Their labeling schema categorises edge devices according to their: \textit{Location, Device Extension, Performance, Connectivity} and relies on Kubernetes scheduling algorithms to run correct applications on correct devices.

A project by Bellavista et al. \cite{Bellavista2017} proposes a Docker based approach to run applications on fog devices such as Raspberry Pi. Their solution communicates with MQTT and they use Docker Swarm as the orchestrator platform. Nevertheless, they still propose Kubernetes and Apache Mesos for alternative orchestrator methods.

In \cite{Mueller2017} , Mueller et al. compare different cloud technologies to create similar environments between layers from edge to cloud. For their future work, they propose combining lightweight technologies to \textit{"to build the core of the seamless computing platform"}. This thesis shows how a lightweight technology such as Unikernel can be combined with Kubernetes, a platform that they discuss on their article , to help build that core.

For controlling low resource devices, such as microcontrollers, cloud provider companies have their own solutions. For example, Google has \textit{Google Cloud IoT Device SDK for Embedded C} repository for connecting low-end devices such as Arduino or ESP32 to their their IoT core. It enables concurrent Pub/Sub traffic on devices using MQTT. That traffic can then be analysed on the Google Cloud where resources are abundant.

There are some research on orchestrating unikernel applications. FADES project \cite{fades} from Technical University Munich is deploying MirageOS unikernels to specialised hardware devices such as Intel NUC and Cubietruck. Their orchestrator is a custom orchestrator written in Python. An informal talk with one of the authors revealed that it's actually a good idea to use Kubernetes for orchestration.

The Mikelangelo project \cite{Struckmann2018} combines Kubernetes with Unikernels.
\iffalse

Another similar project is FADES \cite{fades} project by Munich Technical University. They are using MirageOS unikernels but their deployment environment is specialised hardware devices, namely Intel NUC and Cubietruck. They also have their own orchestrator in Python. While it's better customised for their own scenarios, it lacks the battle-tested reliability of Kubernetes. Nevertheless, it's a proof of growing interest for orchestrated unikernel deployment on edge devices.


 The search on "unikernel"s in Google Scholar brings up 843 articles and the search "unikernel AND Kubernetes" only brings 137, while "Kubernetes" itself brings 5600. Some articles only mention unikernels as a potential way to deploy their application and does not work on the topic itself. Many articles compare unikernels with other virtualisation methods and benchmark them.

There are open source projects that leverage Kubernetes functionality for IoT devices. Kubeedge \cite{kubeedge} is a technology from Huawei , that bridges the communication between edge devices and Kubernetes cloud. They are still using Docker when running applications on the edge device. Their future work mentions an intelligent scheduling based on data locality, network status and computing power, which this thesis aims to solve to an extend using Kubernetes labels.

Another project that is similar to this thesis is the FLEDGE project\cite{fledge}. FLEDGE also uses virtual-kubelet technology to communicate between edge devices and the Kubernetes cluster. An important difference is they are deploying virtual-kubelet instance per edge device to the cloud and use it as a proxy when communicating with the edge device. It's a nice mixin to use both cloud-native technologies with IoT technologies but as they state in their future work, it causes a new pod to be created for every edge device, which affects the scalability of the solution.

Another mature solution is k3s \cite{k3s}, a lightweight Kubernetes distribution designed for edge devices. K3S is stripped version of Kubernetes with non-default options removed, and some options hardcoded into the system. While K3S is compatible wth the current Kubernetes standards as they are using the same codebase, it sets up it's own master node and can not be used with a running Kubernetes cluster.



\fi